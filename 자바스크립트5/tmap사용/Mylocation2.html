<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Current Location</title>
    <style>
      #map {
        width: 100%;
        height: 400px;
      }
    </style>
  </head>
  <body>
    <h1>Current Location</h1>
    <div id="map"></div>

    <script src="https://apis.openapi.sk.com/tmap/js?version=1&format=javascript&appKey=xqY2y0EhCs9wRwlSPyHVM6BaRU8Ggdzq7TAtkmaF">
    </script>
    <script>
      if (navigator.geolocation) {
        navigator.geolocation.getCurrentPosition(position => {
          let { latitude, longitude } = position.coords;

          let map = new Tmapv2.Map("map", {
            center: new Tmapv2.LatLng(latitude, longitude),
            width: "100%",
            height: "400px"
          });

          let marker = new Tmapv2.Marker({
            position: new Tmapv2.LatLng(latitude, longitude),
            map: map
          });
        });
      } else {
        const mapElement = document.getElementById("map");
        mapElement.textContent = "위치 정보를 지원하지 않는 브라우저입니다.";
      }
    </script>
  </body>
</html>
